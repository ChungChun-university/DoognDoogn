<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/PostDefault}"
>
<head>
    <meta charset="UTF-8">
    <title>createPost</title>
    <style>
        #createForm {
            width: 900px;
            margin: 50px auto;
            padding: 20px;
            background: #FFFFFF;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        #createForm h2 {
            text-align: center;
        }

        .form-group {
            width: 850px;
        }

        #createContent {
            margin: 0px;
        }

        #createForm label {
            display: block;
            margin: 10px 0 5px;
        }

        #createForm input, #createForm textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        #createForm button {
            width: 100%;
            padding: 10px;
            background: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #createForm button:hover {
            background: #0056b3;
        }


        /* 반응형 디자인 */
        @media (max-width: 600px) {
            .container {
                padding: 15px;
            }

            button.btn {
                padding: 8px 10px;
            }
        }
    </style>
</head>

<div layout:fragment="content">
    <div id="createForm">
        <h2>게시글 작성</h2>
        <form th:action="@{/post/createPost}" method="post">
            <div class="form-group">
                <label for="category">카테고리:</label>
                <select id="category" name="categoryCode" required>
                    <option value="뜨개질">뜨개질 고수로 한걸음</option>
                    <option value="핸드 드립">핸드 드립 브루잉</option>
                    <option value="소프트웨어">두근두근 게임 소프트웨어 만들기</option>
                    <option value="시.창작">간편 시 노래 창작</option>
                    <option value="가상체험">상상력 자극 가상체험</option>
                    <option value="기타">기타</option>
                </select>
            </div>
            <div class="form-group">
                <label for="title">제목:</label>
                <input type="text" id="title" name="postTitle" required>
            </div>
            <div class="form-group">
                <label for="createContent">내용:</label>
                <textarea id="createContent" name="postContent" rows="10" required></textarea>
            </div>
            <button type="submit" style="width: 100px; display: block; margin: 10px auto">등록</button>
        </form>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const form = document.querySelector("form");
        form.addEventListener("submit", function(event) {
            const categoryCode = document.getElementById("categoryCode").value;
            const title = document.getElementById("postTitle").value;
            const content = document.getElementById("postContent").value;

            if (!categoryCode || !title || !content) {
                alert("제목과 내용을 모두 입력해야 합니다.");
                event.preventDefault(); // 폼 제출 방지
            }
        });
    });
</script>
</html>